<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>{title}</title>
	</head>
	<body style="background-color:{backgroundColor}; margin:0; padding:0; font-size:0; overflow:hidden">
		{preContainer}<div id="container" style="position:relative; display:inline-block; width:{width}; height:{height}"></div>{postContainer}
		
		<script src="https://code.createjs.com/1.0.0/createjs.js"></script>
		
		<script type="importmap">
			{
				"imports": {
					"three": "https://unpkg.com/three@0.161.0/build/three.module.js",
					"three/addons/": "https://unpkg.com/three@0.161.0/examples/jsm/"
				}
			}
		</script>
		
		<script src="library.js"></script>
		<script src="texture-atlases.js"></script>
		
		<script type="module">
			import * as THREE from 'three';
			import * as GLTFLoader from 'three/addons/loaders/GLTFLoader.js';
			window.THREE = THREE;
			window.THREE.addons = window.THREE.addons || {};
			window.THREE.addons.loaders = window.THREE.addons.loaders || {};
			window.THREE.addons.loaders.GLTFLoader = GLTFLoader;
			
			var scriptPlayer = document.createElement("script");
			scriptPlayer.src = "http://player.nanofl.com/nanofl-{playerVersion}.js";
			scriptPlayer.addEventListener("load", () =>
			{
				<!-- BEGIN APP -->
				var scriptApp = document.createElement("script");
				scriptApp.src = "application.js";
				scriptApp.addEventListener("load", () =>
				{
					nanofl.Player.init(document.getElementById("container"), libraryData, {framerate}, '{scaleMode}', {textureAtlasesData});
				});
				document.body.append(scriptApp);
				<!-- END -->
				<!-- BEGIN NOT APP -->
				nanofl.Player.init(document.getElementById("container"), libraryData, {framerate}, '{scaleMode}', {textureAtlasesData});
				<!-- END -->
			});
			document.body.append(scriptPlayer);
		</script>
	</body>
</html>
